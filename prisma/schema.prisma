datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

enum EventType {
  reservation
  workshop
  lecture
  other
}

model ScheduledEvent {
  id          String   @id @default(cuid())
  title       String
  description String?
  code        String
  type        EventType @default(other)
  groups      String[] @default([])
  room        String
  begin       DateTime
  end         DateTime
  hosts       String[] @default([])

  @@index([code], type: Hash)
  @@index([type], type: Hash)
  @@index([begin(sort: Desc), code(sort: Desc)])
  @@unique([type, groups, begin, code, hosts])
}
